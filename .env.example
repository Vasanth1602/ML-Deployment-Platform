# ============================================================================
# AWS CONFIGURATION
# ============================================================================

# AWS Credentials (Get from IAM user in AWS Console)
# Never commit these to Git! This file is just a template.
AWS_ACCESS_KEY_ID=your_access_key_here
AWS_SECRET_ACCESS_KEY=your_secret_key_here

# AWS Region where EC2 instances will be created
# Examples: us-east-1, us-west-2, eu-west-1, ap-south-1
AWS_REGION=us-east-1

# Default instance type for deployments
AWS_DEFAULT_INSTANCE_TYPE=t3.micro

# EC2 Key Pair Name (must exist in your AWS region)
# Create at: EC2 Console → Key Pairs → Create Key Pair
AWS_KEY_PAIR_NAME=your_key_pair_name

# ============================================================================
# EC2 INSTANCE CONFIGURATION
# ============================================================================

# AMI ID for Ubuntu 20.04 LTS (varies by region)
# Find your region's AMI: https://cloud-images.ubuntu.com/locator/ec2/
# us-east-1: ami-0c55b159cbfafe1f0
# us-west-2: ami-0d1cd67c26f5fca19
# ap-south-1: ami-019715e0d74f695be
EC2_AMI_ID=ami-0c55b159cbfafe1f0

# Instance Type (t2.micro/t3.micro eligible for AWS Free Tier)
# Options: t2.micro, t3.micro, t3.small, t3.medium, etc.
EC2_INSTANCE_TYPE=t3.micro

# Root Volume Size in GB (minimum: 8, recommended: 20)
EC2_VOLUME_SIZE=20

# ============================================================================
# SECURITY GROUP CONFIGURATION
# ============================================================================

# Security Group Name (will be created if doesn't exist)
SECURITY_GROUP_NAME=ml-deployment-sg

# Allowed SSH IP Range (CIDR notation)
# 0.0.0.0/0 = Allow from anywhere (NOT recommended for production)
# your.ip.address/32 = Allow only from your IP (recommended)
# Get your IP: curl ifconfig.me
ALLOWED_SSH_IP=0.0.0.0/0

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Port for the Flask backend server (this framework's web interface)
APP_PORT=5000

# Flask Environment (development/production)
FLASK_ENV=development

# Secret Key for Flask sessions (generate a random one for production)
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your_secret_key_here

# ============================================================================
# DOCKER CONFIGURATION
# ============================================================================
# IMPORTANT: Understanding Port Configuration
#
# DOCKER_CONTAINER_PORT: The port your application listens on INSIDE the container
#   - Must match: app.run(host="0.0.0.0", port=XXXX) in your code
#   - Must match: EXPOSE XXXX in your Dockerfile
#
# DOCKER_HOST_PORT: The port exposed on the EC2 host machine
#   - NGINX will proxy to this port
#   - Typically same as DOCKER_CONTAINER_PORT for simplicity
#
# Example 1 - Standard Configuration (Recommended):
#   DOCKER_CONTAINER_PORT=8000  # Your app runs on 8000
#   DOCKER_HOST_PORT=8000       # Host exposes 8000
#   Result: docker run -p 8000:8000 (Host 8000 → Container 8000)
#
# Example 2 - Custom Container Port:
#   DOCKER_CONTAINER_PORT=5000  # Your app runs on 5000
#   DOCKER_HOST_PORT=8000       # Host exposes 8000
#   Result: docker run -p 8000:5000 (Host 8000 → Container 5000)
#
# Users always access via: http://your-ec2-ip/ (port 80, thanks to NGINX!)
# ============================================================================

# Port your application listens on inside the Docker container
DOCKER_CONTAINER_PORT=8000

# Port exposed on the EC2 host (what NGINX proxies to)
DOCKER_HOST_PORT=8000

# ============================================================================
# DEPLOYMENT SETTINGS
# ============================================================================

# Maximum time to wait for deployment completion (seconds)
MAX_DEPLOYMENT_TIME=600

# Time between health check attempts (seconds)
HEALTH_CHECK_INTERVAL=10

# Number of health check retry attempts
HEALTH_CHECK_RETRIES=5

# ============================================================================
# GITHUB CONFIGURATION
# ============================================================================

# GitHub Personal Access Token (optional - only for private repositories)
# Generate at: https://github.com/settings/tokens
# Required scopes: repo (for private repos)
GITHUB_TOKEN=your_github_token_here

# ============================================================================
# NGINX CONFIGURATION
# ============================================================================

# Enable NGINX reverse proxy (recommended for production)
# true = Production mode (users access via port 80, no port in URL)
# false = Development mode (users access via port 8000 directly)
ENABLE_NGINX=true

# NGINX HTTP Port (standard web port)
NGINX_HTTP_PORT=80

# NGINX HTTPS Port (secure web port - requires SSL certificate)
NGINX_HTTPS_PORT=443

# Enable SSL/HTTPS with Let's Encrypt (future feature - requires domain name)
ENABLE_SSL=false

# Email address for SSL certificate registration (required for Let's Encrypt)
SSL_EMAIL=your-email@example.com

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# DEBUG = Verbose logging (for development)
# INFO = Standard logging (for production)
LOG_LEVEL=INFO

# Log file name (stored in backend/ directory)
LOG_FILE=deployment.log
